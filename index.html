
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>ODDs Monitoring System</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <header>
        <h1>ODDs Monitoring System</h1>
        <p>Live Football & Cricket Odds</p>
    </header>

    <div class="tabs">
        <button onclick="showTab('football')" class="active">Football</button>
        <button onclick="showTab('cricket')">Cricket</button>
    </div>

    <div id="football" class="tab active">
        <div id="football-data" class="cards"></div>
    </div>

    <div id="cricket" class="tab">
        <div id="cricket-data" class="cards"></div>
        <p class="note">If no data appears, free API may not provide live cricket odds.</p>
    </div>

    <script>
        function showTab(id) {
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.tabs button').forEach(b => b.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            event.target.classList.add('active');
        }

        async function loadData(type) {
            const res = await fetch('/api/' + type);
            const data = await res.json();
            const box = document.getElementById(type + '-data');
            box.innerHTML = '';
            if (data.length === 0) {
                box.innerHTML = '<div class="empty">No live odds available</div>';
                return;
            }
            data.forEach(m => {
                box.innerHTML += `
                    <div class="card ${m.status}">
                        <div class="match">${m.match}</div>
                        <div class="odds">${m.odds}</div>
                        <div class="change">${m.change}%</div>
                    </div>
                `;
            });
        }

        setInterval(() => {
            loadData('football');
            loadData('cricket');
        }, 1000);
    </script>
</body>
</html>
